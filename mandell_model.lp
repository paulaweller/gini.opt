Max 0.25 u[1,1]*X[1,1,1] + 0.25 u[1,1]*X[1,2,1] + 0.25 u[2,1]*X[2,1,1] + 0.25 u[2,1]*X[2,2,1] + 0.25 u[3,1]*X[3,1,1] + 0.25 u[3,1]*X[3,2,1] + 0.25 u[4,1]*X[4,1,1] + 0.25 u[4,1]*X[4,2,1] + 0.25 u[1,2]*X[1,1,2] + 0.25 u[1,2]*X[1,2,2] + 0.25 u[2,2]*X[2,1,2] + 0.25 u[2,2]*X[2,2,2] + 0.25 u[3,2]*X[3,1,2] + 0.25 u[3,2]*X[3,2,2] + 0.25 u[4,2]*X[4,1,2] + 0.25 u[4,2]*X[4,2,2] + 0.25 u[1,3]*X[1,1,3] + 0.25 u[1,3]*X[1,2,3] + 0.25 u[2,3]*X[2,1,3] + 0.25 u[2,3]*X[2,2,3] + 0.25 u[3,3]*X[3,1,3] + 0.25 u[3,3]*X[3,2,3] + 0.25 u[4,3]*X[4,1,3] + 0.25 u[4,3]*X[4,2,3] + 0.25 u[1,4]*X[1,1,4] + 0.25 u[1,4]*X[1,2,4] + 0.25 u[2,4]*X[2,1,4] + 0.25 u[2,4]*X[2,2,4] + 0.25 u[3,4]*X[3,1,4] + 0.25 u[3,4]*X[3,2,4] + 0.25 u[4,4]*X[4,1,4] + 0.25 u[4,4]*X[4,2,4] - 0.25 diff[1,2,1] - 0.25 diff[1,3,1] - 0.25 diff[1,4,1] - 0.25 diff[2,3,1] - 0.25 diff[2,4,1] - 0.25 diff[3,4,1] - 0.25 diff[1,2,2] - 0.25 diff[1,3,2] - 0.25 diff[1,4,2] - 0.25 diff[2,3,2] - 0.25 diff[2,4,2] - 0.25 diff[3,4,2] - 0.25 diff[1,2,3] - 0.25 diff[1,3,3] - 0.25 diff[1,4,3] - 0.25 diff[2,3,3] - 0.25 diff[2,4,3] - 0.25 diff[3,4,3] - 0.25 diff[1,2,4] - 0.25 diff[1,3,4] - 0.25 diff[1,4,4] - 0.25 diff[2,3,4] - 0.25 diff[2,4,4] - 0.25 diff[3,4,4]
Subject to
 rho[1,1] - (u[1,1] / (u[1,1] + u[2,1] + u[3,1] + u[4,1])) = 0
 rho[2,1] - (u[2,1] / (u[1,1] + u[2,1] + u[3,1] + u[4,1])) = 0
 rho[3,1] - (u[3,1] / (u[1,1] + u[2,1] + u[3,1] + u[4,1])) = 0
 rho[4,1] - (u[4,1] / (u[1,1] + u[2,1] + u[3,1] + u[4,1])) = 0
 rho[1,2] - (u[1,2] / (u[1,2] + u[2,2] + u[3,2] + u[4,2])) = 0
 rho[2,2] - (u[2,2] / (u[1,2] + u[2,2] + u[3,2] + u[4,2])) = 0
 rho[3,2] - (u[3,2] / (u[1,2] + u[2,2] + u[3,2] + u[4,2])) = 0
 rho[4,2] - (u[4,2] / (u[1,2] + u[2,2] + u[3,2] + u[4,2])) = 0
 rho[1,3] - (u[1,3] / (u[1,3] + u[2,3] + u[3,3] + u[4,3])) = 0
 rho[2,3] - (u[2,3] / (u[1,3] + u[2,3] + u[3,3] + u[4,3])) = 0
 rho[3,3] - (u[3,3] / (u[1,3] + u[2,3] + u[3,3] + u[4,3])) = 0
 rho[4,3] - (u[4,3] / (u[1,3] + u[2,3] + u[3,3] + u[4,3])) = 0
 rho[1,4] - (u[1,4] / (u[1,4] + u[2,4] + u[3,4] + u[4,4])) = 0
 rho[2,4] - (u[2,4] / (u[1,4] + u[2,4] + u[3,4] + u[4,4])) = 0
 rho[3,4] - (u[3,4] / (u[1,4] + u[2,4] + u[3,4] + u[4,4])) = 0
 rho[4,4] - (u[4,4] / (u[1,4] + u[2,4] + u[3,4] + u[4,4])) = 0
 diff[1,2,1] - ((rho[1,1] * (u[1,1]*X[1,1,1] + u[1,1]*X[1,2,1])) - (rho[2,1] * (u[2,1]*X[2,1,1] + u[2,1]*X[2,2,1]))) ≥ 0
 diff[1,2,2] - ((rho[1,2] * (u[1,2]*X[1,1,2] + u[1,2]*X[1,2,2])) - (rho[2,2] * (u[2,2]*X[2,1,2] + u[2,2]*X[2,2,2]))) ≥ 0
 diff[1,2,3] - ((rho[1,3] * (u[1,3]*X[1,1,3] + u[1,3]*X[1,2,3])) - (rho[2,3] * (u[2,3]*X[2,1,3] + u[2,3]*X[2,2,3]))) ≥ 0
 diff[1,2,4] - ((rho[1,4] * (u[1,4]*X[1,1,4] + u[1,4]*X[1,2,4])) - (rho[2,4] * (u[2,4]*X[2,1,4] + u[2,4]*X[2,2,4]))) ≥ 0
 diff[1,3,1] - ((rho[1,1] * (u[1,1]*X[1,1,1] + u[1,1]*X[1,2,1])) - (rho[3,1] * (u[3,1]*X[3,1,1] + u[3,1]*X[3,2,1]))) ≥ 0
 diff[1,3,2] - ((rho[1,2] * (u[1,2]*X[1,1,2] + u[1,2]*X[1,2,2])) - (rho[3,2] * (u[3,2]*X[3,1,2] + u[3,2]*X[3,2,2]))) ≥ 0
 diff[1,3,3] - ((rho[1,3] * (u[1,3]*X[1,1,3] + u[1,3]*X[1,2,3])) - (rho[3,3] * (u[3,3]*X[3,1,3] + u[3,3]*X[3,2,3]))) ≥ 0
 diff[1,3,4] - ((rho[1,4] * (u[1,4]*X[1,1,4] + u[1,4]*X[1,2,4])) - (rho[3,4] * (u[3,4]*X[3,1,4] + u[3,4]*X[3,2,4]))) ≥ 0
 diff[1,4,1] - ((rho[1,1] * (u[1,1]*X[1,1,1] + u[1,1]*X[1,2,1])) - (rho[4,1] * (u[4,1]*X[4,1,1] + u[4,1]*X[4,2,1]))) ≥ 0
 diff[1,4,2] - ((rho[1,2] * (u[1,2]*X[1,1,2] + u[1,2]*X[1,2,2])) - (rho[4,2] * (u[4,2]*X[4,1,2] + u[4,2]*X[4,2,2]))) ≥ 0
 diff[1,4,3] - ((rho[1,3] * (u[1,3]*X[1,1,3] + u[1,3]*X[1,2,3])) - (rho[4,3] * (u[4,3]*X[4,1,3] + u[4,3]*X[4,2,3]))) ≥ 0
 diff[1,4,4] - ((rho[1,4] * (u[1,4]*X[1,1,4] + u[1,4]*X[1,2,4])) - (rho[4,4] * (u[4,4]*X[4,1,4] + u[4,4]*X[4,2,4]))) ≥ 0
 diff[2,3,1] - ((rho[2,1] * (u[2,1]*X[2,1,1] + u[2,1]*X[2,2,1])) - (rho[3,1] * (u[3,1]*X[3,1,1] + u[3,1]*X[3,2,1]))) ≥ 0
 diff[2,3,2] - ((rho[2,2] * (u[2,2]*X[2,1,2] + u[2,2]*X[2,2,2])) - (rho[3,2] * (u[3,2]*X[3,1,2] + u[3,2]*X[3,2,2]))) ≥ 0
 diff[2,3,3] - ((rho[2,3] * (u[2,3]*X[2,1,3] + u[2,3]*X[2,2,3])) - (rho[3,3] * (u[3,3]*X[3,1,3] + u[3,3]*X[3,2,3]))) ≥ 0
 diff[2,3,4] - ((rho[2,4] * (u[2,4]*X[2,1,4] + u[2,4]*X[2,2,4])) - (rho[3,4] * (u[3,4]*X[3,1,4] + u[3,4]*X[3,2,4]))) ≥ 0
 diff[2,4,1] - ((rho[2,1] * (u[2,1]*X[2,1,1] + u[2,1]*X[2,2,1])) - (rho[4,1] * (u[4,1]*X[4,1,1] + u[4,1]*X[4,2,1]))) ≥ 0
 diff[2,4,2] - ((rho[2,2] * (u[2,2]*X[2,1,2] + u[2,2]*X[2,2,2])) - (rho[4,2] * (u[4,2]*X[4,1,2] + u[4,2]*X[4,2,2]))) ≥ 0
 diff[2,4,3] - ((rho[2,3] * (u[2,3]*X[2,1,3] + u[2,3]*X[2,2,3])) - (rho[4,3] * (u[4,3]*X[4,1,3] + u[4,3]*X[4,2,3]))) ≥ 0
 diff[2,4,4] - ((rho[2,4] * (u[2,4]*X[2,1,4] + u[2,4]*X[2,2,4])) - (rho[4,4] * (u[4,4]*X[4,1,4] + u[4,4]*X[4,2,4]))) ≥ 0
 diff[3,4,1] - ((rho[3,1] * (u[3,1]*X[3,1,1] + u[3,1]*X[3,2,1])) - (rho[4,1] * (u[4,1]*X[4,1,1] + u[4,1]*X[4,2,1]))) ≥ 0
 diff[3,4,2] - ((rho[3,2] * (u[3,2]*X[3,1,2] + u[3,2]*X[3,2,2])) - (rho[4,2] * (u[4,2]*X[4,1,2] + u[4,2]*X[4,2,2]))) ≥ 0
 diff[3,4,3] - ((rho[3,3] * (u[3,3]*X[3,1,3] + u[3,3]*X[3,2,3])) - (rho[4,3] * (u[4,3]*X[4,1,3] + u[4,3]*X[4,2,3]))) ≥ 0
 diff[3,4,4] - ((rho[3,4] * (u[3,4]*X[3,1,4] + u[3,4]*X[3,2,4])) - (rho[4,4] * (u[4,4]*X[4,1,4] + u[4,4]*X[4,2,4]))) ≥ 0
 diff[1,2,1] - ((rho[2,1] * (u[2,1]*X[2,1,1] + u[2,1]*X[2,2,1])) - (rho[1,1] * (u[1,1]*X[1,1,1] + u[1,1]*X[1,2,1]))) ≥ 0
 diff[1,2,2] - ((rho[2,2] * (u[2,2]*X[2,1,2] + u[2,2]*X[2,2,2])) - (rho[1,2] * (u[1,2]*X[1,1,2] + u[1,2]*X[1,2,2]))) ≥ 0
 diff[1,2,3] - ((rho[2,3] * (u[2,3]*X[2,1,3] + u[2,3]*X[2,2,3])) - (rho[1,3] * (u[1,3]*X[1,1,3] + u[1,3]*X[1,2,3]))) ≥ 0
 diff[1,2,4] - ((rho[2,4] * (u[2,4]*X[2,1,4] + u[2,4]*X[2,2,4])) - (rho[1,4] * (u[1,4]*X[1,1,4] + u[1,4]*X[1,2,4]))) ≥ 0
 diff[1,3,1] - ((rho[3,1] * (u[3,1]*X[3,1,1] + u[3,1]*X[3,2,1])) - (rho[1,1] * (u[1,1]*X[1,1,1] + u[1,1]*X[1,2,1]))) ≥ 0
 diff[1,3,2] - ((rho[3,2] * (u[3,2]*X[3,1,2] + u[3,2]*X[3,2,2])) - (rho[1,2] * (u[1,2]*X[1,1,2] + u[1,2]*X[1,2,2]))) ≥ 0
 diff[1,3,3] - ((rho[3,3] * (u[3,3]*X[3,1,3] + u[3,3]*X[3,2,3])) - (rho[1,3] * (u[1,3]*X[1,1,3] + u[1,3]*X[1,2,3]))) ≥ 0
 diff[1,3,4] - ((rho[3,4] * (u[3,4]*X[3,1,4] + u[3,4]*X[3,2,4])) - (rho[1,4] * (u[1,4]*X[1,1,4] + u[1,4]*X[1,2,4]))) ≥ 0
 diff[1,4,1] - ((rho[4,1] * (u[4,1]*X[4,1,1] + u[4,1]*X[4,2,1])) - (rho[1,1] * (u[1,1]*X[1,1,1] + u[1,1]*X[1,2,1]))) ≥ 0
 diff[1,4,2] - ((rho[4,2] * (u[4,2]*X[4,1,2] + u[4,2]*X[4,2,2])) - (rho[1,2] * (u[1,2]*X[1,1,2] + u[1,2]*X[1,2,2]))) ≥ 0
[[...40 constraints skipped...]]
 X[3,1,3] + X[3,2,3] ≤ 1
 X[4,1,3] + X[4,2,3] ≤ 1
 X[1,1,4] + X[1,2,4] ≤ 1
 X[2,1,4] + X[2,2,4] ≤ 1
 X[3,1,4] + X[3,2,4] ≤ 1
 X[4,1,4] + X[4,2,4] ≤ 1
 numServers : x[1] + x[2] ≤ 1
 capBal[1,1] : -y[1] + 29 X[1,1,1] + 36 X[2,1,1] + 53 X[3,1,1] + 30 X[4,1,1] ≤ 0
 capBal[2,1] : -y[2] + 29 X[1,2,1] + 36 X[2,2,1] + 53 X[3,2,1] + 30 X[4,2,1] ≤ 0
 capBal[1,2] : -y[1] + 55 X[1,1,2] + 26 X[2,1,2] + 31 X[3,1,2] + 45 X[4,1,2] ≤ 0
 capBal[2,2] : -y[2] + 55 X[1,2,2] + 26 X[2,2,2] + 31 X[3,2,2] + 45 X[4,2,2] ≤ 0
 capBal[1,3] : -y[1] + 58 X[1,1,3] + 46 X[2,1,3] + 55 X[3,1,3] + 35 X[4,1,3] ≤ 0
 capBal[2,3] : -y[2] + 58 X[1,2,3] + 46 X[2,2,3] + 55 X[3,2,3] + 35 X[4,2,3] ≤ 0
 capBal[1,4] : -y[1] + 30 X[1,1,4] + 53 X[2,1,4] + 54 X[3,1,4] + 47 X[4,1,4] ≤ 0
 capBal[2,4] : -y[2] + 30 X[1,2,4] + 53 X[2,2,4] + 54 X[3,2,4] + 47 X[4,2,4] ≤ 0
 capLoc[1] : -213 x[1] + y[1] ≤ 0
 capLoc[2] : -213 x[2] + y[2] ≤ 0
 53 x[1] + 62 x[2] + 3 y[1] + 9 y[2] ≤ 500
 116 X[1,1,1] + 180 X[2,1,1] + 212 X[3,1,1] + 120 X[4,1,1] + 145 X[1,2,1] + 144 X[2,2,1] + 636 X[3,2,1] + 180 X[4,2,1] ≤ 1000
 220 X[1,1,2] + 130 X[2,1,2] + 124 X[3,1,2] + 180 X[4,1,2] + 275 X[1,2,2] + 104 X[2,2,2] + 372 X[3,2,2] + 270 X[4,2,2] ≤ 1000
 232 X[1,1,3] + 230 X[2,1,3] + 220 X[3,1,3] + 140 X[4,1,3] + 290 X[1,2,3] + 184 X[2,2,3] + 660 X[3,2,3] + 210 X[4,2,3] ≤ 1000
 120 X[1,1,4] + 265 X[2,1,4] + 216 X[3,1,4] + 188 X[4,1,4] + 150 X[1,2,4] + 212 X[2,2,4] + 648 X[3,2,4] + 282 X[4,2,4] ≤ 1000
 -u[1,1]*X[1,1,1] - u[1,1]*X[1,2,1] - u[2,1]*X[2,1,1] - u[2,1]*X[2,2,1] - u[3,1]*X[3,1,1] - u[3,1]*X[3,2,1] - u[4,1]*X[4,1,1] - u[4,1]*X[4,2,1] + Ut[1] = 0
 -u[1,2]*X[1,1,2] - u[1,2]*X[1,2,2] - u[2,2]*X[2,1,2] - u[2,2]*X[2,2,2] - u[3,2]*X[3,1,2] - u[3,2]*X[3,2,2] - u[4,2]*X[4,1,2] - u[4,2]*X[4,2,2] + Ut[2] = 0
 -u[1,3]*X[1,1,3] - u[1,3]*X[1,2,3] - u[2,3]*X[2,1,3] - u[2,3]*X[2,2,3] - u[3,3]*X[3,1,3] - u[3,3]*X[3,2,3] - u[4,3]*X[4,1,3] - u[4,3]*X[4,2,3] + Ut[3] = 0
 -u[1,4]*X[1,1,4] - u[1,4]*X[1,2,4] - u[2,4]*X[2,1,4] - u[2,4]*X[2,2,4] - u[3,4]*X[3,1,4] - u[3,4]*X[3,2,4] - u[4,4]*X[4,1,4] - u[4,4]*X[4,2,4] + Ut[4] = 0
 y[1] ≥ 0
 y[2] ≥ 0
 u[1,1] ≥ 0
 u[2,1] ≥ 0
 u[3,1] ≥ 0
 u[4,1] ≥ 0
 u[1,2] ≥ 0
 u[2,2] ≥ 0
 u[3,2] ≥ 0
 u[4,2] ≥ 0
 u[1,3] ≥ 0
 u[2,3] ≥ 0
 u[3,3] ≥ 0
 u[4,3] ≥ 0
 u[1,4] ≥ 0
 u[2,4] ≥ 0
 u[3,4] ≥ 0
 u[4,4] ≥ 0
 Ut[1] ≥ 0
 Ut[2] ≥ 0
 Ut[3] ≥ 0
 Ut[4] ≥ 0
 x[1] binary
 x[2] binary
